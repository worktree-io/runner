---
displayNumber: 7
status: closed
priority: 2
createdAt: 2026-02-21T21:46:37.252856+00:00
updatedAt: 2026-02-21T23:05:32.540141+00:00
---

# Add file line-count check via cargo-husky pre-push hook

## Summary

Use `cargo-husky` to install a `pre-push` git hook on this repo that fails the push if any source file exceeds a maximum line count.

## Implementation

1. Add `cargo-husky` to `[dev-dependencies]` in `Cargo.toml`
2. Create `.cargo-husky/hooks/pre-push` shell script that:
   - Iterates over all `*.rs` files in `src/`
   - Counts lines with `wc -l` (no new deps needed)
   - Fails with a clear message if any file exceeds the limit (e.g. 200 lines)
3. The hook is installed automatically on `cargo test` / `cargo build`

## Acceptance Criteria

- [ ] `cargo-husky` added as dev dependency
- [ ] `pre-push` hook script added under `.cargo-husky/hooks/`
- [ ] Push is blocked with a clear error when a file exceeds the line limit
- [ ] Only existing/std tooling used inside the hook script (`wc`, `find`, `sh`)

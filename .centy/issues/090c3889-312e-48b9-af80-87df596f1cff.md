---
displayNumber: 2
status: in-progress
priority: 2
createdAt: 2026-02-19T12:10:22.609923+00:00
updatedAt: 2026-02-19T12:11:33.119773+00:00
---

# Support `editor` query param in worktree:// deep links

Allow callers to override the editor via an `editor` query param in `worktree://open` deep links, so the per-link editor takes precedence over the user’s config.

## Motivation

The `worktree://open` URL scheme is triggered by external tools (browser extensions, CI notifications, shared links). The link generator may know which editor the recipient uses, or want to force a specific one. Today there is no way to express this in the URL — the user’s local `editor.command` config is always used.

## Proposed URL shape

````
worktree://open?owner=acme&repo=api&issue=42&editor=cursor
````

Accept either a symbolic name (`cursor`, `code`, `zed`, `nvim`) mapped through the existing candidate list in `detect_editor`, or a raw command string (percent-encoded).

## Implementation sketch

1. **`src/issue.rs` — `parse_worktree_url`**: extract the `editor` query param alongside `owner`/`repo`/`issue`. Return it via a small `DeepLinkOptions` struct paired with the `IssueRef`.

1. **`src/main.rs` — `cmd_open`**: when an editor override is present in the deep link, use it instead of `config.editor.command`.

## Open questions

* Symbolic name (safer in URLs) vs raw command (more flexible)?
* Should an unrecognised name error or silently fall back to config?

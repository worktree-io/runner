---
displayNumber: 9
status: closed
priority: 2
createdAt: 2026-02-21T22:23:31.805703+00:00
updatedAt: 2026-02-21T23:05:24.209486+00:00
---

# Replace custom is_uuid logic with the uuid crate

## Summary

The codebase contains a hand-rolled UUID validator (`is_uuid` in `src/issue/mod.rs`) that is called from two places in `src/issue/parse.rs`. This should be replaced with the [`uuid`](https://crates.io/crates/uuid) crate, which provides a battle-tested parser and a proper `Uuid` type.

## What to do

1. Add `uuid` to `Cargo.toml` (no features needed beyond the default).
2. Delete the `is_uuid` function from `src/issue/mod.rs`.
3. In `src/issue/parse.rs`, replace each call to `super::is_uuid(id)` with `uuid::Uuid::parse_str(id).is_ok()` (or propagate the parse error directly).
4. Optionally, store `id` as `uuid::Uuid` in `IssueRef::Linear` instead of a raw `String` â€” this makes invalid UUIDs unrepresentable at the type level.
5. Update/remove tests in `linear_tests.rs` / `tests.rs` that only exercise the removed `is_uuid` helper; keep any end-to-end parse tests.

## Motivation

- Removes ~15 lines of bespoke hex-validation logic that duplicates what the `uuid` crate already does correctly.
- The `uuid` crate handles edge cases (URN prefix, braced form, mixed case) the custom code does not.
- Reduces bug surface area and opens the door to version/variant validation if needed.
